2009-06-26 Pierre Wieser <pwieser@trychlos.org>

	Migration to GtkBuilder.

	* configure.ac:
	Update Gtk+ dependancy to 2.12 to have gtk_builder functions.
	Remove libglade dependancy.

	* src/common/na-action-profile.c:
	* src/common/na-action.c:
	* src/common/na-gconf.c:
	* src/common/na-object.c:
	* src/common/na-pivot.c
	(instance_dispose): g_free( self->private ).

	* src/common/na-pivot.c
	(na_pivot_get_label_sorted_actions): Removed function.

	* src/common/na-iio-provider.c:
	Actions list is now automatically sorted by label.

	* src/nact/nact-wnd-actions.c:
	* src/nact/nact-wnd-actions.h:
	Renamed to nact-main-window.{c,h}.

	* src/nact/nact-main-window.c:
	* src/nact/nact-main-window.h:
	* src/nact/nact-action-profile.c:
	* src/nact/nact-action-profile.h: New files.

	* src/nact/Makefile.am: Updated accordingly.

	* src/nact/base-application.c:
	* src/nact/base-application.h
	(base_application_get_icon_name,
	base_application_get_main_window, base_application_run):
	New functions.

	* src/nact/base-window.c:
	* src/nact/base-window.h:
	Remove libglade stuff.
	Create the structure for derived windows/dialogs.

2009-06-20 Pierre Wieser <pwieser@trychlos.org>

	* src/common/na-gconf.c:
	Implement loading of old versions.
	Implement writing an action.

	* src/common/na-action.c:
	* src/common/na-action.h:
	* src/common/na-gconf.c:
	Add read-only attribute set when GConf key is not writable.

	* src/common/na-action.c:
	* src/common/na-action.h:
	* src/common/na-action-profile.c:
	* src/common/na-action-profile.h:
	Object properties are renamed, and moved to include file.
	Objects are created with suitable default values.
	Finalize helper functions.

	* src/common/na-iio-provider.c:
	Record the provider in each NAAction object.

2009-06-19 Pierre Wieser <pwieser@trychlos.org>

	Getting NA (Nautilus Actions) as common objects prefix.

	* src/common/na-action.c:
	* src/common/na-action.h:
	* src/common/na-action-profile.c:
	* src/common/na-action-profile.h:
	* src/common/na-gconf.c:
	* src/common/na-gconf.h:
	* src/common/na-gconf-keys.h:
	* src/common/na-iio-provider.c:
	* src/common/na-iio-provider.h:
	* src/common/na-object.c:
	* src/common/na-object.h:
	* src/common/na-pivot.c:
	* src/common/na-pivot.h:
	* src/common/na-utils.c:
	* src/common/na-utils.h: Renamed and updated accordingly.

	* src/common/na-iio-provider.c:
	* src/common/na-iio-provider.h:
	* src/common/na-gconf.c:
	* src/common/na-pivot.c:
	na_iio_provider_load_actions renamed to na_iio_provider_read_actions.

	* src/nact/base-window.c:
	* src/nact/base-window.h:
	Define and implement new class BaseWindow.

	* src/nact/nact-iactions-list.c:
	* src/nact/nact-iactions-list.h:
	Define and implement new interface NactIActionsList.

	* src/nact/nact-window.c:
	* src/nact/nact-window.h:
	Define and implement new class NactWindow.

	* src/nact/nact-wnd-actions.c:
	* src/nact/nact-wnd-actions.h:
	Define and implement new class NactWndActions.

	* src/nact/Makefile.am:
	Updated accordingly.

2009-06-18 Pierre Wieser <pwieser@trychlos.org>

	Begin with porting NACT to new object hierarchy.

	* src/common/nact-action.c:
	* src/common/nact-action.h (nact_action_duplicate,
	nact_action_get_version, nact_action_get_icon,
	nact_action_set_new_uuid): New functions.

	* src/common/nact-iio-provider.c:
	* src/common/nact-iio-provider.h (+nact_iio_provider_write_action):
	New function.

	* src/common/nact-pivot.c:
	* src/common/nact-pivot.h (nact_pivot_get_label_sorted_actions,
	nact_pivot_get_action, nact_pivot_add_action):
	New functions.

	* src/nact/base-application.c:
	* src/nact/base-application.h: New base class.

	* src/nact/nact-application.c:
	* src/nact/nact-application.h: Updated accordingly.

2009-06-14 Pierre Wieser <pwieser@trychlos.org>

	* po/POTFILES.in: Add src/nact-application.c.

	* src/nact/nact-application.c:
	Fix error message to not embed markup.

2009-06-12 Pierre Wieser <pwieser@trychlos.org>

	Fix #353198 – Single window mode for Nact.

	* configure.ac:
	Add libunique dependancy.
	Cleanup the code.

	* src/nact/nact.c:
	* src/nact/nact.h(nact_init_dialog):
	Return the newly created GtkWindow.

	* src/nact/nact-main.c (main):
	Call gtk_init at the very beginning of the program.

	* src/nact/nact-application.c:
	Check for already running instance, and display a message if any.

2009-06-11 Pierre Wieser <pwieser@trychlos.org>

	* src/common/nact-pivot.c:
	* src/common/nact-pivot.h: Fix comment typo.

	* src/nact/nact.c:
	* src/nact/nact.h:
	Externalize main function in nact-main.c.
	init_dialog becomes public as nact_init_dialog.

	* src/nact/nact-application.c:
	* src/nact/nact-application.h: New NactApplication class.
	Initialization stuff goes to nact-application.c:startup_appli().

	* src/nact/nact-main.c: New file.

	* src/nact/Makefile.am: Updated accordingly.

2009-06-10 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac:
	Bump version number.
	Update required Glib version to make sure to have GIO.

	* src/common/nact-action-profile.c (nact_action_profile_free):
	Fix disallocation of the profile by calling g_object_unref.

	* src/common/nact-action-profile.c:
	Remove all gnome-vfs code.

	* src/plugin/nautilus-actions.c:
	Move gnome_vfs_init call to nact_action_profile_parse_parameters.
	Remove useless include files.

2009-06-09 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac: Bump version number for 1.11.0 release.

	* src/common/nact-action.c:
	* src/common/nact-action.h
	(nact_action_get_profile_ids, nact_action_free_profile_ids,
	 nact_action_has_profile, nact_action_get_profile,
	 nact_action_free_profile):
	Remove functions and cleanup the code.

	* src/common/nact-action-profile.c:
	* src/common/nact-action-profile.h
	(nact_action_profile_load): Remove function and cleanup the code.

	* src/common/nact-gconf.c:
	* src/common/nact-iio-provider.c:
	Cleanup the code, adding documentation to public functions.

	* src/common/nact-object.c:
	* src/common/nact-object.h
	(nact_object_empty_property): Remove function and cleanup the code.

	* src/common/nact-pivot.c:
	* src/common/nact-pivot.h
	(nact_pivot_get_action): Remove function and cleanup the code.

	* src/common/nact-uti.c:
	* src/common/nact-uti.h (nactuti_free_object_list): Remove function.

	* src/plugin/nautilus-actions.c:
	The plugin now uses the new object hierarchy to handle menu items.
	Fix #580378 (context menu doesn't update) reported by James Campos.
	Cleanup the code.

	* src/plugin/nautilus-actions-test.c:
	* src/plugin/nautilus-actions-test.h:
	* src/plugin/nautilus-actions-utils.c:
	* src/plugin/nautilus-actions-utils.h:
	Removed files as functions are now integrated in NactActionProfile
	class.

	* src/utils/nautilus-check-actions-changed.c:
	* src/utils/Makefile.am:
	No more build useless nautilus-actions-check-actions-changed program.

2009-06-08 Pierre Wieser <pwieser@trychlos.org>

	* src/common/nact-action-profile.c:
	* src/common/nact-action-profile.h:
	* src/common/nact-action.c:
	* src/common/nact-action.h:
	* src/common/nact-gconf.c:
	* src/common/nact-object.c:
	* src/common/nact-object.h:
	* src/common/nact-pivot.c:
	* src/common/nact-pivot.h:
	* src/plugin/nautilus-actions.c:
	Reload list of actions instead of trying to update each object.

2009-06-07 Pierre Wieser <pwieser@trychlos.org>

	* src/common/nact-pivot.c:
	* src/common/nact-pivot.h:
	* src/common/nact-gconf.c:
	Update the NactPivotNotify structure to handle profile name.

2009-06-07 Pierre Wieser <pwieser@trychlos.org>

	Install the notification system.

	* src/common/nautilus-actions.c:
	Define new message "notify_nautilus_of_action_changed".

	* src/common/nact-pivot.c:
	Define new message "notify_pivot_of_action_changed".

	* src/common/nact-pivot.h:
	Rename and update nactPivotValue structure to NactPivotNotify.

	* src/common/gconf.c:
	Send message to NactPivot on action changed.

2009-06-06 Pierre Wieser <pwieser@trychlos.org>

	Remove NactIIOClient interface.
	Fix make distcheck.
	Fix Glade file adressing.

	* src/common/nact-iio-client.c:
	* src/common/nact-iio-client.h:
	* src/common/nact-io-client.c:
	* src/common/nact-io-client.c:
	Remove files.

	* src/common/Makefile.am:
	* src/common/nact-action-profile.c:
	* src/common/nact-action-profile.h:
	* src/common/nact-action.c:
	* src/common/nact-action.h:
	* src/common/nact-gconf.c:
	* src/common/nact-gconf.h:
	* src/common/nact-iio-provider.c:
	* src/common/nact-iio-provider.h:
	* src/common/nact-pivot.c:
	* src/common/nact-pivot.h:
	* src/nact/Makefile.am:
	* src/utils/Makefile.am:
	Updated accordingly.

	* src/common/nact-uti-lists.c:
	* src/common/nact-uti-lists.h:
	New files after renaming previous uti-lists.{c,h}.

2009-06-05 Pierre Wieser <pwieser@trychlos.org>

	Create pivot data structure NactPivotValue

	* src/common/nact-gconf.c (value_to_pivot):
	New function.

	* src/common/nact-iio-provider.c
	(nact_iio_provider_load_profile_properties):
	Fix thisfn typo.

	* src/common/nact-pivot.c
	* src/common/nact-pivot.h (nact_pivot_free_pivot_value):
	New function.

2009-06-04 Pierre Wieser <pwieser@trychlos.org>

	Create a whole new object model, and defines some communication
	interfaces.

	* src/plugin/nautilus-actions.c:
	* src/plugin/nautilus-actions.h:
	Connect and load list of NactAction actions.

	* src/common/nact-gconf.c:
	* src/common/nact-gconf.h
	(nact_gconf_dispose, nact_gconf_dump): New functions.

	* src/common/uti-lists.c:
	* src/common/util-lists.h
	(nactuti_free_string_list, nactuti_duplicate_string_list):
	New functions.

	* src/common/nact-action.c:
	* src/common/nact-action.h:
	* src/common/nact-action-profile.c:
	* src/common/nact-action-profile.h:
	* src/common/nact-gconf.c:
	* src/common/nact-gconf.h:
	Updated accordingly.

	* src/common/nact-iio-client.c:
	* src/common/nact-iio-client.h:
	* src/common/nact-iio-provider.c:
	* src/common/nact-iio-provider.c:
	* src/common/nact-io-client.c:
	* src/common/nact-io-client.h:
	New files.

2009-06-01 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac: Have a more funny package string.

	* src/plugin/nautilus-module.c: Syslog at module initialization.

	* src/plugin/nautilus-actions.c:
	* src/plugin/nautilus-actions.h:
	Move NautilusActions object data members to a private area.
	Add forward declarations of, remove prefix from, static functions.
	Do nothing on get_background_items callback.

	* src/common/nact-action.c:
	* src/common/nact-action.h:
	* src/common/nact-action-profile.c:
	* src/common/nact-action-profile.h:
	* src/common/nact-gconf.c:
	* src/common/nact-gconf.h:
	* src/common/nact-gconf-keys.h:
	* src/common/nact-storage.c:
	* src/common/nact-storage.h:
	New files, preparing for a new object hierarchy (with shorter names).

	* src/common/uti-lists.c:
	* src/common/uti-lists.h:
	(nactuti_free_string_list) new function.

2009-05-29 Pierre Wieser <pwieser@trychlos.org>

	Move all sources directories under src/
	Remove one directory level when installing Glade file
	Rename libnautilus-actions/libnautilus-actions to common/libnact

	* configure.ac:
	* Makefile.am:
	Build and install po/ directory after sources.

	* All sources: Updated accordingly.

	* src/nact/Makefile.am:
	Remove one directory level when installing Glade file.

2009-05-29 Pierre Wieser <pwieser@trychlos.org>

	Include a short application description in all source headers

	* plugin/nautilus-module.c:
	Renamed from plugin/nautilus-actions-module.c.

	* plugin/nautilus-actions.c:
	Move log handler to nautilus-module.c.

	* plugin/Makefile.am:
	Updated accordingly.

2009-05-29 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac:
	Bump version number to 1.11 unstable.

2009-05-29 Pierre Wieser <pwieser@trychlos.org>

	Prepare for the 1.10.1 release

2009-05-28 Pierre Wieser <pwieser@trychlos.org>

	* plugin/nautilus-actions.c (nautilus_actions_get_file_items):
	Fix iteration through profiles list.
	Do not search through actions when the Nautilus-provided list is empty.

	* plugin/nautilus-actions.c (get_hash_keys):
	Remove no more used function.

	* nact/nautilus-actions-config.glade:
	Remove (useless) 'field_changed_cb' handler from the menu icon.

	* nact/nact-editor.c:
	* nact/nact-action-editor.c:
	Restore tooltip display for the icon name depending on Gtk+ version.

	* nact/nact.c:
	* nact/nautilus-actions-config.glade:
	Double-click on an action opens the editor.

	* nact/nact-profile-editor.c:
	Enable the OK button as soon as required fields are filled.

	* m4/nact-maintainer-mode.m4:
	* plugin/nautilus-actions.c:
	Only enable syslog'ed debug messages when in maintainer mode.

	* libnautilus-actions/Makefile.am:
	Remove trailing whitespace.

2009-05-25 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac:
	* Makefile.am:
	Reorganize install order so that plugin be installed last.

	* icons/Makefile.am:
	* libnautilus-actions/Makefile.am:
	* nact/Makefile.am:
	* plugin/Makefile.am:
	* utils/Makefile.am:
	Cleanup Makefile.am.

	* .gitignore: Update to ignore Glade work files.

	* plugin/Makefile.am:
	* libnautilus-actions/Makefile.am:
	Define G_LOG_DOMAIN variable.

	* libnautilus-actions/nautilus-actions-config.c:
	* libnautilus-actions/nautilus-actions-config.h:
	nautilus_actions_config_action_free_all_profile_names,
	nautilus_actions_config_action_get_first_profile_name,
	nautilus_actions_config_action_get_profiles_count,
	nautilus_actions_config_action_dump: new functions.

	* nact/nact-action-editor.c:
	* nact/nact-action-editor.h: New files to be able to edit an action
	without having to deal with the profile stuff.

	* nact/nautilus-actions-config.glade:
	Add EditActionDialogExt dialog.

	* nact/Makefile.am:
	* nact/nact-editor.c:
	* nact/nact-editor.h:
	* nact/nact-profile-editor.c:
	* nact/nact-profile-editor.h:
	* nact/nact-utils.c:
	* nact/nact-utils.h:
	* po/POTFILES.in:
	* po/ChangeLog: Updated accordingly.

2009-05-18 Pierre Wieser <pwieser@trychlos.org>

	Fix Glade regression I introduced myself when ansi-fying C sources !

	* *.c, *.h: Almost all sources files impacted.

	* m4/nact-maintainer-mode.m4: Creation.

	* plugin/nautilus-actions.c: Add debug mode to syslog.

2009-05-17 Pierre Wieser <pwieser@trychlos.org>

	Releasing 1.10.0

	* configure.ac: Update version number.

2009-05-17 Pierre Wieser <pwieser@trychlos.org>

	Make all sources ansi-compliant

	* configure.ac: Use NACT_GNOME_COMPILE_WARNINGS	(see #582860).

	* m4/nact-compiler-flags: Creation.

	* *.c, *.h: Update almost all sources to be ansi-compliant.

2009-05-16 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac: Created from configure.in,
	update all Makefile.am, replacing deprecated INCLUDES with AM_CPPFLAGS.

	* update po files

	* Makefile.am: Add DISTCLEANFILES,
	add DISTCHECK_CONFIGURE_FLAGS to be able to make distcheck successfully.

	* icons/16x16/Makefile.am:
	* icons/22x22/Makefile.am:
	* icons/32x32/Makefile.am:
	* icons/48x48/Makefile.am:
	* icons/scalable/Makefile.am:
	* nact/Makefile.am:
	* plugin/Makefile.am:
	* utils/Makefile.am:
	Add EXTRA_DIST to be able to make distcheck successfully.

2009-05-13 Pierre Wieser <pwieser@trychlos.org>

	* nact/nact-editor.c:
	* libnautilus-actions/nautilus-actions-config.c:
	* libnautilus-actions/nautilus-actions-config-schema-reader.c:
	Fix typos. Fixes #522605 reported by Andre Klapper <a9016009%40gmx.de>.

	* libnautilus-actions/nautilus-actions-config-gconf-private.h:
	Remove a quote. Fixes #573365 reported by Sergej
	<sergio.durzu@ildeposito.org>.

2009-05-12 Pierre Wieser <pwieser@trychlos.org>

	* ChangeLog, ChangeLog-2008:
	Split enormeous ChangeLog, only keeping recent history.

2009-05-12 Bruce van der Kooij <brucevdkooij@gmail.com>

	* plugin/nautilus-actions.c:
	Call gnome_vfs_init at class initialization. Fixes #574919.

2009-05-12 Pierre Wieser <pwieser@trychlos.org>

	* nautilus-actions.doap: Update short description.
	* MAINTAINERS: Update to point to nautilus-actions.doap.

2009-04-13  Christian Persch  <chpe@gnome.org>

	* autogen.sh:
	* configure.in:
	* po/LINGUAS:
	Use newer intltool so the recent build break doesn't occur again.

2009-04-12  Christian Persch  <chpe@gnome.org>

	* po/LINGUAS: Fix the build by removing extra newline.

2009-01-20  Stéphane Raimbault  <stephane.raimbault@gmail.com>

	* nact/nautilus-actions-config.glade:
	Marked 'Duplicate' string for translation. Fixes #568366.
